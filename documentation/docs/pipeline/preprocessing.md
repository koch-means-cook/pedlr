# Preprocessing

Preprocessing only involves the way from raw data collected from Prolific (`.json` files) to usable data.
The data shared via `datalad` is already preprocessed and ready to use.
It does not require any of these steps.

## 1. Create reports for submitted data

- `.../code/preprocessing/Create_reports.R`
- Usage: `Rscript Create_reports.R -i <PATH TO RAW DATA FOLDER> -a FALSE`
- Creates `.html` reports for each raw data file that can be used to check the raw data for the amount of errors/timeouts and e.g. number of trials completed

## 2. Calculate bonus for paticipants

- `.../code/preprocessing/Calculate_bonus.R`
- Usage: `Rscript Calculate_bonus.R -i <PATH TO RAW DATA FOLDER>`
- Prints Prolific IDs of participants together with the earned bonus.
   - Output can be copy-pasted into the `Bulk bonus payment` window on Prolific.

## 3. Preprocess data to useable `.tsv` files

- `.../code/preprocessing/Preprocess_full_dir.R`
- Usage: `Rscript Preprocess_full_dir.R -i <PATH TO RAW DATA FOLDER> -d <PATH TO DEMOGRAPHIC DATA FILE> -o <PATH TO OUTPUT DIRECTORY>`
- Turns the `.json` output generated by the experiment into `.tsv` files named after the random ID participants get at the start of the experiment.
   - Anonymizes the data since the prolific ID is deleted
   - Adds demographic data of each participant to the `.tsv`
